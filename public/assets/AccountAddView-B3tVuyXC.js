import{_ as E,y as j,u as O,e as s,z as R,f as q,g as S,h as V,s as z,A as H,B as f,c as d,d as e,t as c,F as x,v as I,n as Y,m as i,C as n,D as g,E as h,k as Z,q as J,o as u,p as K,b as Q}from"./index-aCxowlNm.js";import{A as W}from"./AppLoader-Dm_qYGuN.js";const B=p=>(K("data-v-99b1653c"),p=p(),Q(),p),X={key:0,class:"add-edit-view grid"},$={class:"fields-container grid"},ee=["onUpdate:modelValue"],te=B(()=>e("thead",null,[e("tr",null,[e("th",null,"Created At"),e("th",null,"Type"),e("th",null,"Details")])],-1)),ae={key:0,class:"grid"},le=B(()=>e("h2",null,"Generate Password",-1)),se={class:"pass-fields grid"},oe={for:"length"},ne={for:"includeSymbols"},ue={for:"includeNumbers"},de={for:"includeUppercase"},ce={for:"includeLowercase"},ie={__name:"AccountAddView",setup(p){const L=j(),C=O(),r=s(L.params.id),v=s(!1);let l=s(null);const m=s("Update Password"),b=s(8),w=s(!1),_=s(!1),k=s(!0),A=s(!0),y=s(""),U=s(null);R(()=>{v.value?m.value="Update Password":m.value="Generate Password",l.value&&(U.value=Object.keys(l.value).filter(o=>o!=="_id"&&o!=="history"))});function M(){v.value=!v.value}function N(o){return o.split(/(?=[A-Z])/).join(" ")}function P(){let o="";for(let a=0;a<b.value;a++){let t="";w.value&&(t+="!@#$%^&*()_+"),_.value&&(t+="1234567890"),k.value&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),A.value&&(t+="abcdefghijklmnopqrstuvwxyz"),o+=t.charAt(Math.floor(Math.random()*t.length))}y.value=o}function D(){l.value.password=y.value}q(async()=>{S.on("main-action",async o=>{o==="save"&&(F(),await V.save(l.value),z("Account updated successfully"),C.push("/account"))}),S.emit("main-action","Save"),r.value?l.value=await V.getById(r.value):l.value={accountTitle:"",type:"",icon:"",history:[],username:"",otherField:"",notes:""}});function F(){l.value.history||(l.value.history=[]),l.value.history.push({id:H.makeId(),createdAt:Date.now(),type:r.value?"updated":"created",details:r.value?"account updated":"account created"})}return(o,a)=>f(l)?(u(),d("section",X,[e("h2",null,c(r.value?"Update Account":"Add Account"),1),e("form",{onSubmit:a[0]||(a[0]=Y(()=>{},["stop"])),class:""},[e("div",$,[(u(!0),d(x,null,I(U.value,(t,G)=>(u(),d("label",{key:G},[i(c(N(t))+" ",1),n(e("input",{type:"text","onUpdate:modelValue":T=>f(l)[t]=T},null,8,ee),[[g,f(l)[t]]])]))),128))]),e("table",null,[te,e("tbody",null,[(u(!0),d(x,null,I(f(l).history,t=>(u(),d("tr",{key:t.id},[e("td",null,c(t.createdAt),1),e("td",null,c(t.type),1),e("td",null,c(t.details),1)]))),128))])])],32),e("button",{class:"primary-btn",onClick:M},c(m.value),1),v.value?(u(),d("section",ae,[le,e("div",se,[e("label",oe,[i(" Length "),n(e("input",{type:"number",id:"length","onUpdate:modelValue":a[1]||(a[1]=t=>b.value=t)},null,512),[[g,b.value]])]),e("label",ne,[i(" Include Symbols "),n(e("input",{type:"checkbox",id:"includeSymbols","onUpdate:modelValue":a[2]||(a[2]=t=>w.value=t)},null,512),[[h,w.value]])]),e("label",ue,[i(" Include Numbers "),n(e("input",{type:"checkbox",id:"includeNumbers","onUpdate:modelValue":a[3]||(a[3]=t=>_.value=t)},null,512),[[h,_.value]])]),e("label",de,[i(" Include Uppercase "),n(e("input",{type:"checkbox",id:"includeUppercase","onUpdate:modelValue":a[4]||(a[4]=t=>k.value=t)},null,512),[[h,k.value]])]),e("label",ce,[i(" Include Lowercase "),n(e("input",{type:"checkbox",id:"includeLowercase","onUpdate:modelValue":a[5]||(a[5]=t=>A.value=t)},null,512),[[h,A.value]])])]),n(e("input",{class:"pass-results",type:"text","onUpdate:modelValue":a[6]||(a[6]=t=>y.value=t),placeholder:"Your password will displayed here"},null,512),[[g,y.value]]),e("div",{class:"action-container"},[e("button",{class:"primary-btn",onClick:P},"Generate"),e("button",{class:"primary-btn",onClick:D},"Update")])])):Z("",!0)])):(u(),J(W,{key:1,type:"edit"}))}},ve=E(ie,[["__scopeId","data-v-99b1653c"]]);export{ve as default};
